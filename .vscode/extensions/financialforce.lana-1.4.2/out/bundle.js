/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function t(t,e,s,n){var i,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(o<3?i(r):o>3?i(e,s,r):i(e,s))||r);return o>3&&r&&Object.defineProperty(e,s,r),r}function e(t,e,s,n){return new(s||(s=Promise))((function(i,o){function r(t){try{c(n.next(t))}catch(t){o(t)}}function l(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(r,l)}c((n=n.apply(t,e||[])).next())}))}const s=document.createElement("div");function n(t,e){const n=function(t){return t?(s.innerText=t,s.innerHTML):t}(t);return e?"<b>"+n+"</b>":n}function i(t){const e=""+~~(t/1e3),s=e.length<4?"0000".substring(e.length)+e:e;return`${s.slice(0,-3)}.${s.slice(-3)}ms`}function o(t){const e=document.querySelector(".tabHolder"),s=document.getElementById(t),n=document.querySelector(".tabber"),i=null==s?void 0:s.dataset.show,o=i?document.getElementById(i):null;null==e||e.querySelectorAll(".tab").forEach((t=>t.classList.remove("selected"))),null==s||s.classList.add("selected"),null==n||n.querySelectorAll(".tabItem").forEach((t=>t.classList.remove("selected"))),o&&o.classList.add("selected")}function r(t){if(t.exitStamp&&(t.selfTime=t.duration=t.exitStamp-t.timestamp,t.children)){const e=t.children.length;for(let s=0;s<e;++s){const e=t.children[s].duration;e&&(t.selfTime-=e)}}}const l=/^[A-Z_]*$/,c=new Map([["error","rgba(255, 128, 128, 0.2)"],["skip","rgba(128, 255, 128, 0.2)"],["unexpected","rgba(128, 128, 255, 0.2)"]]);class a extends class{constructor(){this.timestamp=0,this.exitStamp=null,this.duration=null,this.selfTime=null,this.children=null}}{constructor(t){super(),this.type="",this.logLine="",this.acceptsText=!1,this.text="",this.displayType="",this.children=null,this.isExit=!1,this.hasValidSymbols=!1,this.discontinuity=!1,this.exitTypes=null,this.lineNumber=null,this.rowCount=null,this.classes=null,this.group=null,this.truncated=null,this.hideable=null,this.containsDml=!1,this.containsSoql=!1,this.value=null,this.suffix=null,this.prefix=null,this.namespace=null,this.cpuType=null,this.timelineKey=null,t&&(this.type=t[1],this.timestamp=function(t){const e=t.slice(t.indexOf("(")+1,-1);if(e)return Number(e);throw new Error(`Unable to parse timestamp: '${t}'`)}(t[0]))}onEnd(t){}after(t){}addBlock(t){t.length>0&&(null===this.children&&(this.children=[]),this.children.push(new d(t)))}addChild(t){null===this.children&&(this.children=[]),this.children.push(t)}setChildren(t){this.children=t}}class d extends a{constructor(t){super(),this.displayType="block",this.children=t}}let u,h=[],p=new Set;function E(t,e,s){p.has(e)||(p.add(e),u.push([e,t,c.get(s)]))}function m(t){const e=t.slice(1,-1);if(e){const t=Number(e);return isNaN(t)?e:t}throw new Error(`Unable to parse line number: '${t}'`)}function x(t){const e=t.slice(t.indexOf("Rows:")+5);if(e)return Number(e);throw new Error(`Unable to parse row count: '${t}'`)}const _=new Map([["BULK_HEAP_ALLOCATE",class extends a{constructor(t){super(t),this.text=t[2]}}],["CALLOUT_REQUEST",class extends a{constructor(t){super(t),this.text=`${t[3]} : ${t[2]}`}}],["CALLOUT_RESPONSE",class extends a{constructor(t){super(t),this.text=`${t[3]} : ${t[2]}`}}],["NAMED_CREDENTIAL_REQUEST",class extends a{constructor(t){super(t),this.text=`${t[3]} : ${t[4]} : ${t[5]} : ${t[6]}`}}],["NAMED_CREDENTIAL_RESPONSE",class extends a{constructor(t){super(t),this.text=`${t[2]}`}}],["NAMED_CREDENTIAL_RESPONSE_DETAIL",class extends a{constructor(t){super(t),this.text=`${t[3]} : ${t[4]} ${t[5]} : ${t[6]} ${t[7]}`}}],["CONSTRUCTOR_ENTRY",class extends a{constructor(t){super(t),this.exitTypes=["CONSTRUCTOR_EXIT"],this.hasValidSymbols=!0,this.displayType="method",this.cpuType="method",this.suffix=" (constructor)",this.timelineKey="method",this.classes="node",this.lineNumber=m(t[2]);const e=t[4];this.text=t[5]+e.substring(e.lastIndexOf("("))}}],["CONSTRUCTOR_EXIT",class extends a{constructor(t){super(t),this.isExit=!0,this.lineNumber=m(t[2])}}],["EMAIL_QUEUE",class extends a{constructor(t){super(t),this.lineNumber=m(t[2])}}],["METHOD_ENTRY",class extends a{constructor(t){super(t),this.exitTypes=["METHOD_EXIT"],this.hasValidSymbols=!0,this.displayType="method",this.cpuType="method",this.timelineKey="method",this.classes="node",this.lineNumber=m(t[2]),this.text=t[4]||this.type,"System.Type.forName(String, String)"===this.text&&(this.cpuType="loading")}}],["METHOD_EXIT",class extends a{constructor(t){super(t),this.isExit=!0,this.lineNumber=m(t[2])}}],["SYSTEM_CONSTRUCTOR_ENTRY",class extends a{constructor(t){super(t),this.exitTypes=["SYSTEM_CONSTRUCTOR_EXIT"],this.displayType="method",this.cpuType="method",this.namespace="system",this.suffix="(system constructor)",this.timelineKey="systemMethod",this.classes="node system",this.lineNumber=m(t[2]),this.text=t[3]}}],["SYSTEM_CONSTRUCTOR_EXIT",class extends a{constructor(t){super(t),this.namespace="system",this.timelineKey="systemMethod",this.isExit=!0,this.lineNumber=m(t[2])}}],["SYSTEM_METHOD_ENTRY",class extends a{constructor(t){super(t),this.exitTypes=["SYSTEM_METHOD_EXIT"],this.displayType="method",this.cpuType="method",this.namespace="system",this.timelineKey="systemMethod",this.classes="node system",this.lineNumber=m(t[2]),this.text=t[3]}}],["SYSTEM_METHOD_EXIT",class extends a{constructor(t){super(t),this.namespace="system",this.timelineKey="systemMethod",this.isExit=!0,this.lineNumber=m(t[2])}}],["CODE_UNIT_STARTED",class extends a{constructor(t){super(t),this.exitTypes=["CODE_UNIT_FINISHED"],this.displayType="method",this.suffix=" (entrypoint)",this.timelineKey="codeUnit",this.classes="node";const e=t[3].split(":"),s=t[4]||t[3];switch(e[0]){case"EventService":this.cpuType="method",this.namespace=function(t){const e=t.indexOf("__");return e<0?"unmanaged":t.substring(0,e)}(e[1]),this.group="EventService "+this.namespace,this.text=t[3];break;case"Validation":this.cpuType="custom",this.declarative=!0,this.group="Validation",this.text=s||e[0]+":"+e[1];break;case"Workflow":this.cpuType="custom",this.declarative=!0,this.group="Workflow",this.text=s||e[0];break;default:this.cpuType="method",(null==s?void 0:s.startsWith("VF:"))&&(this.namespace=function(t){const e=t.indexOf("__");if(e<0)return"unmanaged";const s=t.indexOf("/");if(s<0)return"unmanaged";const n=t.indexOf("/",s+1);return n<0?"unmanaged":t.substring(n+1,e)}(s)),this.text=s||t[3]}}}],["CODE_UNIT_FINISHED",class extends a{constructor(t){super(t),this.isExit=!0,this.text=t[2]}}],["VF_APEX_CALL_START",class extends a{constructor(t){super(t),this.classes="node",this.cpuType="method",this.displayType="method",this.exitTypes=["VF_APEX_CALL_END"],this.suffix=" (VF APEX)",this.timelineKey="method",this.lineNumber=m(t[2]);const e=t[5]||t[3];let s=t[4]||"";if(s){this.hasValidSymbols=!0;const t=s.indexOf("("),e=s.indexOf("<init>");s=t>-1?"."+s.substring(t).slice(1,-1)+"()":e>-1?s.substring(e+6)+"()":"."+s}this.text=e+s}}],["VF_APEX_CALL_END",class extends a{constructor(t){super(t),this.isExit=!0,this.text=t[2]}}],["VF_DESERIALIZE_VIEWSTATE_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["VF_DESERIALIZE_VIEWSTATE_END"],this.displayType="method",this.cpuType="method",this.namespace="system",this.timelineKey="systemMethod",this.text=this.type}}],["VF_DESERIALIZE_VIEWSTATE_END",class extends a{constructor(t){super(t),this.isExit=!0}}],["VF_EVALUATE_FORMULA_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["VF_EVALUATE_FORMULA_END"],this.cpuType="custom",this.suffix=" (VF FORMULA)",this.classes="node formula",this.text=t[3],this.group=this.type}}],["VF_EVALUATE_FORMULA_END",class extends a{constructor(t){super(t),this.isExit=!0,this.text=t[2]}}],["VF_SERIALIZE_VIEWSTATE_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["VF_SERIALIZE_VIEWSTATE_END"],this.displayType="method",this.cpuType="method",this.namespace="system",this.timelineKey="systemMethod",this.text=this.type}}],["VF_SERIALIZE_VIEWSTATE_END",class extends a{constructor(t){super(t),this.isExit=!0}}],["VF_PAGE_MESSAGE",class extends a{constructor(t){super(t),this.text=t[2]}}],["DML_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["DML_END"],this.displayType="method",this.cpuType="free",this.timelineKey="dml",this.group="DML",this.lineNumber=m(t[2]),this.text="DML "+t[3]+" "+t[4],this.rowCount=x(t[5])}}],["DML_END",class extends a{constructor(t){super(t),this.isExit=!0,this.lineNumber=m(t[2])}}],["IDEAS_QUERY_EXECUTE",class extends a{constructor(t){super(t),this.lineNumber=m(t[2])}}],["SOQL_EXECUTE_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["SOQL_EXECUTE_END"],this.displayType="method",this.cpuType="free",this.timelineKey="soql",this.group="SOQL",this.lineNumber=m(t[2]),this.text="SOQL: "+t[3]+" - "+t[4]}onEnd(t){this.rowCount=t.rowCount}}],["SOQL_EXECUTE_END",class extends a{constructor(t){super(t),this.isExit=!0,this.lineNumber=m(t[2]),this.rowCount=x(t[3])}}],["SOQL_EXECUTE_EXPLAIN",class extends a{constructor(t){super(t),this.lineNumber=m(t[2]),this.text=`${t[3]}, line:${this.lineNumber}`}}],["SOSL_EXECUTE_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["SOSL_EXECUTE_END"],this.displayType="method",this.cpuType="free",this.timelineKey="soql",this.group="SOQL",this.lineNumber=m(t[2]),this.text=`SOSL: ${t[3]}`}onEnd(t){this.rowCount=t.rowCount}}],["SOSL_EXECUTE_END",class extends a{constructor(t){super(t),this.isExit=!0,this.lineNumber=m(t[2]),this.rowCount=x(t[3])}}],["HEAP_ALLOCATE",class extends a{constructor(t){super(t),this.lineNumber=m(t[2])}}],["HEAP_DEALLOCATE",class extends a{constructor(t){super(t),this.lineNumber=m(t[2])}}],["STATEMENT_EXECUTE",class extends a{constructor(t){super(t),this.lineNumber=m(t[2])}}],["VARIABLE_SCOPE_BEGIN",class extends a{constructor(t){super(t),this.prefix="ASSIGN ",this.classes="node detail",this.lineNumber=m(t[2]),this.text=t[3],this.group=this.type,this.value=t[4]}onEnd(t){this.value=t.value}}],["VARIABLE_SCOPE_END",class extends a{constructor(t){super(t)}}],["VARIABLE_ASSIGNMENT",class extends a{constructor(t){super(t),this.lineNumber=m(t[2]),this.text=t[3],this.group=this.type,this.value=t[4]}}],["USER_INFO",class extends a{constructor(t){super(t),this.lineNumber=m(t[2]),this.text=this.type+":"+t[3]+" "+t[4],this.group=this.type}}],["USER_DEBUG",class extends a{constructor(t){super(t),this.acceptsText=!0,this.lineNumber=m(t[2]),this.text=this.type+":"+t[3]+" "+t[4],this.group=this.type}}],["CUMULATIVE_LIMIT_USAGE",class extends a{constructor(t){super(t),this.exitTypes=["CUMULATIVE_LIMIT_USAGE_END"],this.displayType="method",this.cpuType="system",this.timelineKey="systemMethod",this.text=this.type,this.group=this.type}}],["CUMULATIVE_LIMIT_USAGE_END",class extends a{constructor(t){super(t),this.isExit=!0}}],["CUMULATIVE_PROFILING",class extends a{constructor(t){var e;super(t),this.acceptsText=!0,this.text=t[2]+" "+(null!==(e=t[3])&&void 0!==e?e:"")}}],["CUMULATIVE_PROFILING_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["CUMULATIVE_PROFILING_END"]}}],["CUMULATIVE_PROFILING_END",class extends a{constructor(t){super(t),this.isExit=!0}}],["LIMIT_USAGE",class extends a{constructor(t){super(t),this.lineNumber=m(t[2]),this.text=t[3]+" "+t[4]+" out of "+t[5],this.group=this.type}}],["LIMIT_USAGE_FOR_NS",class extends a{constructor(t){super(t),this.acceptsText=!0,this.text=t[2],this.group=this.type}after(t){const e=this.text.match(/Maximum CPU time: (\d+)/);!e||e[1]}}],["POP_TRACE_FLAGS",class extends a{constructor(t){super(t),this.namespace="system",this.timelineKey="systemMethod",this.lineNumber=m(t[2]),this.text=t[4]+", line:"+this.lineNumber+" - "+t[5]}}],["PUSH_TRACE_FLAGS",class extends a{constructor(t){super(t),this.namespace="system",this.timelineKey="systemMethod",this.lineNumber=m(t[2]),this.text=t[4]+", line:"+this.lineNumber+" - "+t[5]}}],["QUERY_MORE_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["QUERY_MORE_END"],this.lineNumber=m(t[2]),this.text=`line: ${this.lineNumber}`}}],["QUERY_MORE_END",class extends a{constructor(t){super(t),this.isExit=!0,this.lineNumber=m(t[2]),this.text=`line: ${this.lineNumber}`}}],["QUERY_MORE_ITERATIONS",class extends a{constructor(t){super(t),this.lineNumber=m(t[2]),this.text=`line: ${this.lineNumber}, iterations:${t[3]}`}}],["TOTAL_EMAIL_RECIPIENTS_QUEUED",class extends a{constructor(t){super(t),this.text=t[2]}}],["SAVEPOINT_ROLLBACK",class extends a{constructor(t){super(t),this.lineNumber=m(t[2]),this.text=`${t[3]}, line: ${this.lineNumber}`}}],["SAVEPOINT_SET",class extends a{constructor(t){super(t),this.lineNumber=m(t[2]),this.text=`${t[3]}, line: ${this.lineNumber}`}}],["STACK_FRAME_VARIABLE_LIST",class extends a{constructor(t){super(t),this.acceptsText=!0}}],["STATIC_VARIABLE_LIST",class extends a{constructor(t){super(t),this.acceptsText=!0}}],["SYSTEM_MODE_ENTER",class extends a{constructor(t){super(t),this.namespace="system",this.timelineKey="systemMethod",this.text=t[2]}}],["SYSTEM_MODE_EXIT",class extends a{constructor(t){super(t),this.namespace="system",this.timelineKey="systemMethod",this.text=t[2]}}],["EXECUTION_STARTED",class extends a{constructor(t){super(t),this.exitTypes=["EXECUTION_FINISHED"],this.displayType="method",this.timelineKey="method",this.classes="node",this.text=this.type}}],["EXECUTION_FINISHED",class extends a{constructor(t){super(t),this.isExit=!0,this.text=this.type}}],["ENTERING_MANAGED_PKG",class extends a{constructor(t){super(t),this.displayType="method",this.cpuType="pkg",this.timelineKey="method";const e=t[2],s=e.lastIndexOf("."),n=s<0?e:e.substring(s+1);this.text=this.namespace=n}after(t){this.exitStamp=t.timestamp,this.duration=this.selfTime=this.exitStamp-this.timestamp}}],["EVENT_SERVICE_PUB_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["EVENT_SERVICE_PUB_END"],this.displayType="method",this.cpuType="custom",this.timelineKey="flow",this.group=this.type,this.text=t[2]}}],["EVENT_SERVICE_PUB_END",class extends a{constructor(t){super(t),this.isExit=!0,this.text=t[2]}}],["EVENT_SERVICE_PUB_DETAIL",class extends a{constructor(t){super(t),this.text=t[2]+" "+t[3]+" "+t[4],this.group=this.type}}],["EVENT_SERVICE_SUB_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["EVENT_SERVICE_SUB_END"],this.displayType="method",this.cpuType="custom",this.timelineKey="flow",this.text=`${t[2]} ${t[3]}`,this.group=this.type}}],["EVENT_SERVICE_SUB_DETAIL",class extends a{constructor(t){super(t),this.text=`${t[2]} ${t[3]} ${t[4]} ${t[6]} ${t[6]}`,this.group=this.type}}],["EVENT_SERVICE_SUB_END",class extends a{constructor(t){super(t),this.isExit=!0,this.text=`${t[2]} ${t[3]}`}}],["SAVEPOINT_SET",class extends a{constructor(t){super(t),this.lineNumber=m(t[2]),this.text=t[3]}}],["FLOW_START_INTERVIEWS_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["FLOW_START_INTERVIEWS_END"],this.displayType="method",this.cpuType="custom",this.declarative=!0,this.timelineKey="flow",this.group="FLOW_START_INTERVIEWS",this.text="FLOW_START_INTERVIEWS : "+t[2]}onEnd(t){if(this.children){let t=this.children[0];"block"===t.displayType&&t.children&&(t=t.children[0]),this.text+=" - "+t.text}}}],["FLOW_START_INTERVIEWS_END",class extends a{constructor(t){super(t),this.isExit=!0}}],["FLOW_START_INTERVIEWS_ERROR",class extends a{constructor(t){super(t),this.text=`${t[2]} - ${t[4]}`}}],["FLOW_START_INTERVIEW_BEGIN",class extends a{constructor(t){super(t),this.text=t[3],this.group=this.type}}],["FLOW_START_INTERVIEW_END",class extends a{constructor(t){super(t)}}],["FLOW_START_INTERVIEW_LIMIT_USAGE",class extends a{constructor(t){super(t),this.text=t[2],this.group=this.type}}],["FLOW_START_SCHEDULED_RECORDS",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["FLOW_CREATE_INTERVIEW_BEGIN",class extends a{constructor(t){super(t),this.text=""}}],["FLOW_CREATE_INTERVIEW_END",class extends a{constructor(t){super(t)}}],["FLOW_CREATE_INTERVIEW_ERROR",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["FLOW_ELEMENT_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["FLOW_ELEMENT_END"],this.displayType="method",this.cpuType="custom",this.declarative=!0,this.timelineKey="flow",this.group=this.type,this.text=this.type+" - "+t[3]+" "+t[4]}}],["FLOW_ELEMENT_END",class extends a{constructor(t){super(t),this.isExit=!0}}],["FLOW_ELEMENT_DEFERRED",class extends a{constructor(t){super(t),this.declarative=!0,this.text=t[2]+" "+t[3],this.group=this.type}}],["FLOW_ELEMENT_ERROR",class extends a{constructor(t){super(t),this.text=t[1]+t[2]+" "+t[3]+" "+t[4]}}],["FLOW_ELEMENT_FAULT",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["FLOW_ELEMENT_LIMIT_USAGE",class extends a{constructor(t){super(t),this.text=`${t[2]}`}}],["FLOW_INTERVIEW_FINISHED_LIMIT_USAGE",class extends a{constructor(t){super(t),this.text=`${t[2]}`}}],["FLOW_SUBFLOW_DETAIL",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["FLOW_VALUE_ASSIGNMENT",class extends a{constructor(t){super(t),this.declarative=!0,this.text=t[3]+" "+t[4],this.group=this.type}}],["FLOW_WAIT_EVENT_RESUMING_DETAIL",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["FLOW_WAIT_EVENT_WAITING_DETAIL",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]} : ${t[6]}`}}],["FLOW_WAIT_RESUMING_DETAIL",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["FLOW_WAIT_WAITING_DETAIL",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["FLOW_INTERVIEW_FINISHED",class extends a{constructor(t){super(t),this.text=t[3],this.group=this.type}}],["FLOW_INTERVIEW_PAUSED",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["FLOW_INTERVIEW_RESUMED",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["FLOW_ACTIONCALL_DETAIL",class extends a{constructor(t){super(t),this.text=t[3]+" : "+t[4]+" : "+t[5]+" : "+t[6],this.group=this.type}}],["FLOW_ASSIGNMENT_DETAIL",class extends a{constructor(t){super(t),this.text=t[3]+" : "+t[4]+" : "+t[5],this.group=this.type}}],["FLOW_LOOP_DETAIL",class extends a{constructor(t){super(t),this.text=t[3]+" : "+t[4],this.group=this.type}}],["FLOW_RULE_DETAIL",class extends a{constructor(t){super(t),this.text=t[3]+" : "+t[4],this.group=this.type}}],["FLOW_BULK_ELEMENT_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["FLOW_BULK_ELEMENT_END"],this.displayType="method",this.cpuType="custom",this.declarative=!0,this.timelineKey="flow",this.text=this.type+" - "+t[2],this.group=this.type}}],["FLOW_BULK_ELEMENT_END",class extends a{constructor(t){super(t),this.isExit=!0}}],["FLOW_BULK_ELEMENT_DETAIL",class extends a{constructor(t){super(t),this.declarative=!0,this.text=t[2]+" : "+t[3]+" : "+t[4],this.group=this.type}}],["FLOW_BULK_ELEMENT_LIMIT_USAGE",class extends a{constructor(t){super(t),this.declarative=!0,this.text=t[2],this.group=this.type}}],["FLOW_BULK_ELEMENT_NOT_SUPPORTED",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["PUSH_NOTIFICATION_INVALID_APP",class extends a{constructor(t){super(t),this.text=`${t[2]}.${t[3]}`}}],["PUSH_NOTIFICATION_INVALID_CERTIFICATE",class extends a{constructor(t){super(t),this.text=`${t[2]}.${t[3]}`}}],["PUSH_NOTIFICATION_INVALID_NOTIFICATION",class extends a{constructor(t){super(t),this.text=`${t[2]}.${t[3]} : ${t[4]} : ${t[5]} : ${t[6]} : ${t[7]} : ${t[8]}`}}],["PUSH_NOTIFICATION_NO_DEVICES",class extends a{constructor(t){super(t),this.text=`${t[2]}.${t[3]}`}}],["PUSH_NOTIFICATION_NOT_ENABLED",class extends a{constructor(t){super(t)}}],["PUSH_NOTIFICATION_SENT",class extends a{constructor(t){super(t),this.text=`${t[2]}.${t[3]} : ${t[4]} : ${t[5]} : ${t[6]} : ${t[7]}`}}],["SLA_END",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]} : ${t[6]}`}}],["SLA_EVAL_MILESTONE",class extends a{constructor(t){super(t),this.text=`${t[2]}`}}],["SLA_NULL_START_DATE",class extends a{constructor(t){super(t)}}],["SLA_PROCESS_CASE",class extends a{constructor(t){super(t),this.text=`${t[2]}`}}],["TESTING_LIMITS",class extends a{constructor(t){super(t),this.acceptsText=!0}}],["VALIDATION_ERROR",class extends a{constructor(t){super(t),this.text=t[2]}}],["VALIDATION_FAIL",class extends a{constructor(t){super(t)}}],["VALIDATION_FORMULA",class extends a{constructor(t){super(t),this.acceptsText=!0;const e=t.length>3?" "+t[3]:"";this.text=t[2]+e,this.group=this.type}}],["VALIDATION_PASS",class extends a{constructor(t){super(t),this.text=t[3],this.group=this.type}}],["VALIDATION_RULE",class extends a{constructor(t){super(t),this.text=t[3],this.group=this.type}}],["WF_FLOW_ACTION_BEGIN",class extends a{constructor(t){super(t)}}],["WF_FLOW_ACTION_END",class extends a{constructor(t){super(t)}}],["WF_FLOW_ACTION_ERROR",class extends a{constructor(t){super(t),this.text=t[1]+" "+t[4]}}],["WF_FLOW_ACTION_ERROR_DETAIL",class extends a{constructor(t){super(t),this.text=t[1]+" "+t[2]}}],["WF_FIELD_UPDATE",class extends a{constructor(t){super(t),this.text=" "+t[2]+" "+t[3]+" "+t[4]+" "+t[5]+" "+t[6],this.group=this.type}}],["WF_RULE_EVAL_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["WF_RULE_EVAL_END"],this.displayType="method",this.cpuType="custom",this.declarative=!0,this.timelineKey="workflow",this.text=this.type}}],["WF_RULE_EVAL_END",class extends a{constructor(t){super(t),this.isExit=!0}}],["WF_RULE_EVAL_VALUE",class extends a{constructor(t){super(t),this.text=t[2],this.group=this.type}}],["WF_RULE_FILTER",class extends a{constructor(t){super(t),this.acceptsText=!0,this.text=t[2],this.group=this.type}}],["WF_RULE_NOT_EVALUATED",class extends a{constructor(t){super(t),this.isExit=!0}}],["WF_CRITERIA_BEGIN",class extends a{constructor(t){super(t),this.exitTypes=["WF_CRITERIA_END","WF_RULE_NOT_EVALUATED"],this.displayType="method",this.cpuType="custom",this.declarative=!0,this.timelineKey="workflow",this.group="WF_CRITERIA",this.text="WF_CRITERIA : "+t[5]+" : "+t[3]}}],["WF_CRITERIA_END",class extends a{constructor(t){super(t),this.isExit=!0}}],["WF_FORMULA",class extends a{constructor(t){super(t),this.acceptsText=!0,this.text=t[2]+" : "+t[3],this.group=this.type}}],["WF_ACTION",class extends a{constructor(t){super(t),this.text=t[2],this.group=this.type}}],["WF_ACTIONS_END",class extends a{constructor(t){super(t),this.text=t[2]}}],["WF_ACTION_TASK",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]} : ${t[6]} : ${t[7]}`}}],["WF_APPROVAL",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_APPROVAL_REMOVE",class extends a{constructor(t){super(t),this.text=`${t[2]}`}}],["WF_APPROVAL_SUBMIT",class extends a{constructor(t){super(t),this.text=`${t[2]}`}}],["WF_APPROVAL_SUBMITTER",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_ASSIGN",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["WF_EMAIL_ALERT",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_EMAIL_SENT",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_ENQUEUE_ACTIONS",class extends a{constructor(t){super(t),this.text=t[2]}}],["WF_ESCALATION_ACTION",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["WF_ESCALATION_RULE",class extends a{constructor(t){super(t)}}],["WF_EVAL_ENTRY_CRITERIA",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_FLOW_ACTION_DETAIL",class extends a{constructor(t){super(t);const e=t[4]?` : ${t[4]} :${t[5]}`:"";this.text=`${t[2]} : ${t[3]}`+e}}],["WF_HARD_REJECT",class extends a{constructor(t){super(t)}}],["WF_NEXT_APPROVER",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_NO_PROCESS_FOUND",class extends a{constructor(t){super(t)}}],["WF_OUTBOUND_MSG",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["WF_PROCESS_FOUND",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["WF_REASSIGN_RECORD",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["WF_RESPONSE_NOTIFY",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["WF_RULE_ENTRY_ORDER",class extends a{constructor(t){super(t),this.text=t[2]}}],["WF_RULE_INVOCATION",class extends a{constructor(t){super(t),this.text=t[2]}}],["WF_SOFT_REJECT",class extends a{constructor(t){super(t),this.text=t[2]}}],["WF_SPOOL_ACTION_BEGIN",class extends a{constructor(t){super(t),this.text=t[2]}}],["WF_TIME_TRIGGER",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["WF_TIME_TRIGGERS_BEGIN",class extends a{constructor(t){super(t)}}],["EXCEPTION_THROWN",class extends a{constructor(t){super(t),this.discontinuity=!0;const e=t[3];e.indexOf("System.LimitException")>=0&&E(this.timestamp,e,"error"),this.lineNumber=m(t[2]),this.text=e,this.group=this.type}}],["FATAL_ERROR",class extends a{constructor(t){super(t),this.acceptsText=!0,this.hideable=!1,this.discontinuity=!0,E(this.timestamp,"FATAL ERROR! cause="+t[2],"error"),this.text=t[2]}}],["XDS_DETAIL",class extends a{constructor(t){super(t),this.text=t[2]}}],["XDS_RESPONSE",class extends a{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]} : ${t[6]}`}}],["XDS_RESPONSE_DETAIL",class extends a{constructor(t){super(t),this.text=t[2]}}],["XDS_RESPONSE_ERROR",class extends a{constructor(t){super(t),this.text=t[2]}}]]);function f(t,e){const s=t.split("|"),n=s[1],i=_.get(n);if(i){const n=new i(s);return n.logLine=t,(null==e?void 0:e.after)&&(null==e||e.after(n)),n}return!l.test(n)&&(null==e?void 0:e.acceptsText)?e.text+=` | ${t}`:n?"DUMMY"!==n&&console.warn(`Unknown log line: ${n}`):e&&t.startsWith("*** Skipped")?E(e.timestamp,"Skipped-Lines","skip"):e&&t.indexOf("MAXIMUM DEBUG LOG SIZE REACHED")>=0?E(e.timestamp,"Max-Size-reached","skip"):console.warn(`Bad log line: ${t}`),null}function y(t){var s;return e(this,void 0,void 0,(function*(){const e=(null===(s=t.match(/^.*EXECUTION_STARTED.*$/m))||void 0===s?void 0:s.index)||-1,n=t.substring(e).split(/\r?\n/);h=[],u=[],p=new Set;let i=null;const o=n.length;for(let t=0;t<o;++t){const e=n[t];if(e){const t=f(e,i);t&&(h.push(t),i=t)}}return h}))}const T=/^\d+\.\d+\sAPEX_CODE,\w+;APEX_PROFILING,.+$/m;function g(t){const e=t.match(T);if(!e)return[];const s=e[0];return s.substring(s.indexOf(" ")+1).split(";").map((t=>{const e=t.split(",");return[e[0],e[1]]}))}let v,A=null,N=!1;class ${constructor(t){this.lines=t,this.index=0}peek(){return this.index<this.lines.length?this.lines[this.index]:null}fetch(){return this.index<this.lines.length?this.lines[this.index++]:null}}class S extends d{constructor(){super(...arguments),this.text="Log Root",this.type="ROOT",this.timestamp=0}}function I(t,e){if(A=e.timestamp,e.exitTypes){let s,n=[];for(;(s=t.peek())&&(s.discontinuity&&(N=!0),!s.isExit);)t.fetch(),A=s.timestamp,s.exitTypes||"method"===s.displayType?(e.addBlock(n),n=[],e.addChild(I(t,s))):n.push(s);null===s&&(e.exitStamp=A,e.duration=A-e.timestamp,E(A,"Unexpected-End","unexpected")),n.length&&e.addBlock(n),(null==s?void 0:s.isExit)&&function(t,e,s){t.exitStamp=e.timestamp,t.onEnd&&t.onEnd(e),!t.exitTypes||!t.exitTypes.includes(e.type)||t.lineNumber&&e.lineNumber!==t.lineNumber?N||E(e.timestamp,"Unexpected-Exit","unexpected"):(N=!1,s.fetch())}(e,s,t)}return r(e),e}function L(){return b.instance()}class b{constructor(){this.vscodeAPIInstance=null;try{this.vscodeAPIInstance=acquireVsCodeApi()}catch(t){console.log("acquireVsCodeApi() exception: "+t)}}static instance(){return null==this._instance&&(this._instance=new b),this._instance}openPath(t){this.vscodeAPIInstance?this.vscodeAPIInstance.postMessage({cmd:"openPath",path:t}):console.log(`VSCodeService.openPath(${t}) with no VSCode instance.`)}openType(t){this.vscodeAPIInstance?this.vscodeAPIInstance.postMessage({cmd:"openType",typeName:t.typeName,text:t.text}):console.log(`VSCodeService.openType(${t}) with no VSCode instance.`)}openHelp(){this.vscodeAPIInstance?this.vscodeAPIInstance.postMessage({cmd:"openHelp"}):console.log("VSCodeService.open() with no VSCode instance.")}getConfig(){this.vscodeAPIInstance?this.vscodeAPIInstance.postMessage({cmd:"getConfig"}):console.log("VSCodeService.getConfig() with no VSCode instance.")}}b._instance=null;const C=document.createElement("div"),O=document.createElement("span"),R=document.createElement("a");function w(t){const e=t.target;if(e.classList.contains("toggle")){const t=e.parentElement,s=null==t?void 0:t.querySelector(".toggle");let n=null==t?void 0:t.querySelector(".childContainer");const i=null==t?void 0:t.dataset.enterstamp;if(!n&&i){const e=V(v,i);n=(null==e?void 0:e.children)?P(null==e?void 0:e.children,[e.timestamp]):null,n&&t.appendChild(n),z()}if(s&&n)switch(s.textContent){case"+":n.classList.remove("hide"),s.textContent="-";break;case"-":n.classList.add("hide"),s.textContent="+"}}}function M(t){var e;const s=function(t){let e=document.querySelector(`div[data-enterstamp="${t}"]`);if(!e){let s,n;const i=U(v,t)||[],o=i.length;for(let t=0;t<o;t++){const e=i[t];if(e){const t=document.querySelector(`div[data-enterstamp="${e.timestamp}"]`);if(t){s=t,n=e;continue}break}}const r=i.map((t=>{if(null==t?void 0:t.timestamp)return t.timestamp}));if((null==n?void 0:n.children)&&s){const i=P(n.children,r);i&&s.appendChild(i),e=document.querySelector(`div[data-enterstamp="${t}"]`)}}return e}(t);if(z(),s){const t=(null==s?void 0:s.querySelector("span.name"))||s;o("treeTab"),function(t,e){const s=[];let n=e?t:t.parentElement;for(;n&&"tree"!==n.id;)n.id&&s.push(n),n=n.parentElement;const i=s.length;for(let t=0;t<i;t++){const e=s[t],n=e.querySelector(":scope > .toggle"),i=e.querySelector(":scope > .childContainer");n&&(i.classList.remove("hide"),n.textContent="-")}}(s,!1),s.scrollIntoView(!1),t&&(null===(e=document.getSelection())||void 0===e||e.selectAllChildren(t))}}function U(t,e){if(t.timestamp===e)return[t];const s=(null==t?void 0:t.children)||[],n=s.length;for(let t=0;t<n;t++){const n=s[t],i=U(n,e);if(i)return i.unshift(n),i}return null}function D(t,e){var s;const n=null!==(s=e.children)&&void 0!==s?s:[],i=n.length;for(let e=0;e<i;++e){const s=n[e],i=C.cloneNode();i.className=!1!==s.hideable?"block detail hide":"block";const o=s.text||"";let r=s.type+(o&&o!==s.type?" - "+o:"");r=r.replace(/ \| /g,"\n"),r.endsWith("\\")&&(r=r.slice(0,-1)),i.textContent=r,t.appendChild(i)}}function F(t){return t.hasValidSymbols}function k(t,e){var s;const n=null!==(s=t.children)&&void 0!==s?s:[],o=C.cloneNode();t.timestamp>=0&&(o.dataset.enterstamp=""+t.timestamp,o.id=`calltree-${t.timestamp}`),o.className=t.classes||"";const r=n.length;if(r){const t=O.cloneNode();t.textContent="+",t.className="toggle",o.appendChild(t)}else o.classList.add("indent");const l=O.cloneNode();l.className="name";const c=function(t){const e=t.prefix||"",s=t.suffix||"",n=(t.containsDml?"D":"")+(t.containsSoql?"S":""),o=(n?`(${n}) `:"")+e;let r="";"method"===t.displayType&&(r=`${t.value?` = ${t.value}`:""}${s} - ${t.truncated?"TRUNCATED":`${i(t.duration||0)} (self ${i(t.selfTime||0)})`}${t.lineNumber?`, line: ${t.lineNumber}`:""}`);const l=t.text;let c;if(!F(t))return[document.createTextNode(o+l+r)];c=R.cloneNode(),c.href="#",c.textContent=l;const a=[document.createTextNode(o),c];return r&&a.push(document.createTextNode(r)),a}(t),a=c.length;for(let t=0;t<a;t++)l.appendChild(c[t]);if(o.appendChild(l),r&&(e.includes(t.timestamp)||e.includes(-1))){const t=P(n,e);t&&o.appendChild(t)}return o}function P(t,e){const s=C.cloneNode();s.className="childContainer hide";const n=t.length;for(let i=0;i<n;++i){const n=t[i];switch(n.displayType){case"method":const t=k(n,e);t&&s.appendChild(t);break;case"block":D(s,n)}}return s}function W(t){var e;const s=t.target,n=s.matches("a")?null===(e=s.parentElement)||void 0===e?void 0:e.parentElement:null,i=null==n?void 0:n.dataset.enterstamp;if(i){const t=V(v,i);if(t){const e=function(t){if(!F(t))return null;const e=t.text;let s="";t.lineNumber&&(s="-"+t.lineNumber);const n=e.indexOf("(");let i=n>-1?e.substring(0,n):e;if("METHOD_ENTRY"===t.type){const t=i.lastIndexOf(".");return{typeName:e.substring(0,t)+s,text:e}}return{typeName:i+s,text:e}}(t);e&&L().openType(e)}}}function V(t,e){if(t){if(t.timestamp===parseInt(e))return t;if(t.children){const s=t.children.length;for(let n=0;n<s;++n){const s=V(t.children[n],e);if(s)return s}}}return null}function B(t){return e(this,void 0,void 0,(function*(){v=t,function(){const t=document.getElementById("tree");if(t){t.addEventListener("click",w),t.addEventListener("click",W);const e=k(v,[0]);if(t.innerHTML="",e){t.appendChild(e);const s=C.cloneNode();s.style.height="78vh",t.appendChild(s),z()}}}()}))}function H(t){const e=t.querySelector(":scope > .toggle"),s=t.querySelector(":scope > .childContainer");if(e&&!s&&t.dataset.enterstamp){const e=V(v,t.dataset.enterstamp||"");if(null==e?void 0:e.children){const s=P(e.children,[-1]);t.appendChild(s)}}else if(t.children){const e=t.children.length;for(let s=0;s<e;++s)H(t.children[s])}}let G=!1;function K(t){const e=document.getElementById("tree");G||(H(e),G=!0),e&&(z(),e.querySelectorAll(".toggle").forEach((t=>{t.textContent="-"})),document.querySelectorAll(".childContainer").forEach((t=>{t.classList.contains("block")||t.classList.remove("hide")})))}function q(t){const e=document.getElementById("tree");var s;e&&(s=e,document.querySelectorAll(".toggle").forEach((t=>{t.textContent="+"})),s.querySelectorAll(".childContainer").forEach((t=>{t.classList.contains("block")||t.classList.add("hide")})))}function X(t,e){const s=e?function(t){t.classList.add("hide")}:function(t){t.classList.remove("hide")};document.querySelectorAll(t).forEach(s)}function Y(t){X("#tree .detail",t.target.checked)}function z(){const t=document.getElementById("hideDetails"),e=document.getElementById("hideSystem"),s=document.getElementById("hideFormula");X("#tree .detail",null==t?void 0:t.checked),X("#tree .node.system",null==e?void 0:e.checked),X("#tree .node.formula",null==s?void 0:s.checked)}function Q(t){X("#tree .node.system",t.target.checked)}function j(t){X("#tree .node.formula",t.target.checked)}window.addEventListener("DOMContentLoaded",(function(t){const e=document.getElementById("expandAll"),s=document.getElementById("collapseAll"),n=document.getElementById("hideDetails"),i=document.getElementById("hideSystem"),o=document.getElementById("hideFormula");null==e||e.addEventListener("click",K),null==s||s.addEventListener("click",q),null==n||n.addEventListener("change",Y),null==i||i.addEventListener("change",Q),null==o||o.addEventListener("change",j)}));const Z={codeUnit:{label:"Code Unit",fillColor:"#6BAD68"},soql:{label:"SOQL",fillColor:"#4B9D6E"},method:{label:"Method",fillColor:"#328C72"},flow:{label:"Flow",fillColor:"#237A72"},dml:{label:"DML",fillColor:"#22686D"},workflow:{label:"Workflow",fillColor:"#285663"},systemMethod:{label:"System Method",fillColor:"#2D4455"}};let J,tt,et,st,nt,it,ot,rt,lt,ct,at,dt,ut,ht=0,pt=0,Et=0,mt=0;function xt(t,e=0){if(!t.children)return e;const s=t.duration?e+1:e;let n=e;for(let e=t.children.length-1;e>=0;--e){const i=xt(t.children[e],s);i>n&&(n=i)}return n}function _t(t,e,s){t.strokeStyle="#B0B0B0",t.lineWidth=1,ft(t,e,s),function(t){for(let[e,s]of yt)t.beginPath(),t.fillStyle=e,s.forEach((e=>{t.rect(e.x,e.y,e.w,-15)})),t.fill(),t.stroke();yt=new Map}(t)}function ft(t,e,s){var n;const i=[],o=e.length,r=-15*s-Et;for(let t=0;t<o;t++){const s=e[t],o=s.timelineKey;if(o&&s.duration){const t=s.duration*nt;if(t>=.05){const e=Z[o],n=s.timestamp*nt-pt;Tt(e.fillColor,n,r,t)}}null===(n=s.children)||void 0===n||n.forEach((t=>{i.push(t)}))}i.length&&ft(t,i,s+1)}let yt=new Map;function Tt(t,e,s,n){var i;yt.has(t)||yt.set(t,[]);const o={x:e,y:s,w:n};null===(i=yt.get(t))||void 0===i||i.push(o)}function gt(){ot=at.exitStamp||0,rt=xt(at),vt(),ht=15*rt,pt=0,Et=0}function vt(){const{clientWidth:t,clientHeight:e}=tt;if(t&&e&&(t!==ct||e!==lt)){et.width=ct=t,et.height=lt=e;const s=t/ot;mt||(mt=nt||(nt=s));const n=nt-(mt-s);nt=Math.min(n,.3),mt=s}it=nt>4e-7?"normal 16px serif":"normal 8px serif"}function At(t){return e(this,void 0,void 0,(function*(){$t(),tt=document.getElementById("timelineWrapper"),et=document.getElementById("timeline"),st=et.getContext("2d",{alpha:!1}),at=t,gt(),st&&requestAnimationFrame(Nt)}))}function Nt(){st&&(vt(),st.setTransform(1,0,0,1,0,lt),st.clearRect(0,-et.height,et.width,et.height),function(t){var e,s;const n=u.length;if(!n)return;let i=0;for(;i<n;){const n=u[i++],o=null!==(e=u[i])&&void 0!==e?e:[],r=n[1],l=null!==(s=o[1])&&void 0!==s?s:ot;n[2]&&(t.fillStyle=n[2]);const c=r*nt;t.fillRect(r*nt-pt,-lt,l-c,lt)}}(st),function(t){t.lineWidth=1,t.font=it,t.textBaseline="top",t.textAlign="left";const e=2-lt,s=1e9*nt,n=pt/nt,i=n+ct/nt,o=Math.ceil(i/1e9),r=Math.floor(n/1e9);t.strokeStyle="#F88962",t.fillStyle="#F88962",t.beginPath();for(let n=r;n<=o;n++){const i=s*n-pt;t.moveTo(i,-lt),t.lineTo(i,0),t.fillText(`${n.toFixed(1)}s`,i+2,e)}t.stroke();const l=150/(1e3*nt),c=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6].reduce((function(t,e){return Math.abs(e-l)<Math.abs(t-l)?e:t}));t.strokeStyle="#E0E0E0",t.fillStyle="#808080",t.beginPath();const a=1e3*nt,d=i/1e3,u=n/1e3;let h=1e6*Math.floor(u/1e6);for(;h<d;)if(h+=c,h%1e6!=0&&h>=u){const s=a*h-pt;t.moveTo(s,-lt),t.lineTo(s,0),t.fillText(h/1e3+" ms",s+2,e)}t.stroke()}(st),_t(st,[at],-1),requestAnimationFrame(Nt))}function $t(){const t=document.getElementById("timelineKey"),e=document.createElement("span");e.innerText="",t&&(t.innerHTML="",t.appendChild(e));for(const e in Z){const s=Z[e],n=document.createElement("div"),i=document.createElement("span");i.innerText=s.label,n.className="keyEntry",n.style.backgroundColor=s.fillColor,n.style.color="#FFFFFF",n.appendChild(i),t&&t.appendChild(n)}}function St(t,e,s,n){if(!t)return null;if(t.duration){const i=t.timestamp*nt-pt,o=t.duration*nt,r=i+o;if(o<.05||i>s||r<s)return null;if(e===n)return t}if(t.children){const i=t.duration?e+1:e;if(n>=i){const e=t.children.length;for(let o=0;o<e;++o){const e=St(t.children[o],i,s,n);if(e)return e}}}return null}function It(t,e){if(!Ot&&tt&&J){let s=function(t,e){const s=St(at,0,t,e);if(s){const t=document.createElement("div"),e=document.createElement("br");return t.appendChild(document.createTextNode(s.type)),t.appendChild(e.cloneNode()),t.appendChild(document.createTextNode(s.text)),s.timestamp&&s.duration&&s.selfTime&&(t.appendChild(e.cloneNode()),t.appendChild(document.createTextNode("timestamp: "+s.timestamp)),s.exitStamp&&(t.appendChild(document.createTextNode(" => "+s.exitStamp)),t.appendChild(e.cloneNode()),t.appendChild(document.createTextNode(`duration: ${i(s.duration)}`)),"free"===s.cpuType?t.appendChild(document.createTextNode(" (free)")):t.appendChild(document.createTextNode(` (self ${i(s.selfTime)})`)))),t}return null}(t,~~((lt-e-Et)/ht*rt))||function(t){var e,s;const n=null==u?void 0:u.length;let i=0;for(;i<n;){const n=u[i++],o=null!==(e=u[i])&&void 0!==e?e:[],r=n[1],l=null!==(s=o[1])&&void 0!==s?s:ot;if(t>=r*nt-pt&&t<=l*nt-pt){const t=document.createElement("div");return t.textContent=n[0],t}}return null}(t);s&&function(t,e,s,n,i){if(s&&n&&i){let o=t+10,r=e+2;n.innerHTML="",n.appendChild(s),n.style.cssText=`left:${o}px; top:${r}px; display: block;`;const l=n.offsetWidth-i.offsetWidth+o;l>0&&(o-=l-4);const c=n.offsetHeight-i.offsetHeight+r;c>0&&(r-=n.offsetHeight+4),(l>0||c>0)&&(n.style.cssText=`left:${o}px; top:${r}px; display: block;`)}else n.style.display="none"}(t,e,s,J,tt)}}function Lt(t){const e=t.target;if(e&&("timeline"===e.id||"tooltip"===e.id)){const e=et.getBoundingClientRect();e&&(dt=t.clientX-e.left,ut=t.clientY-e.top,It(dt,ut))}}function bt(t){if(!Ot&&"block"===J.style.display){const t=St(at,0,dt,~~((lt-ut-Et)/ht*rt));t&&t.timestamp&&M(t.timestamp)}}function Ct(t){Ot=!1,t.relatedTarget&&"tooltip"===t.relatedTarget.id||(J.style.display="none")}let Ot=!1;function Rt(t){Ot=!0}function wt(t){Ot=!1}function Mt(t){if(Ot){J.style.display="none";const{movementY:e,movementX:s}=t,n=nt*ot-ct;pt=Math.max(0,Math.min(n,pt-s));const i=~~(15*rt-lt+lt/4);Et=Math.min(0,Math.max(-i,Et-e))}}function Ut(t){if(!Ot){J.style.display="none",t.stopPropagation();const{deltaY:e,deltaX:s}=t,n=nt;let i=e/1e3*nt;const o=nt-i;if(i=o>=mt?i:nt-mt,i=o<=.3?i:nt-.3,0!==i){if(nt-=i,nt!==n){const t=(dt+pt)/n*nt-dt,e=nt*ot-ct;pt=Math.max(0,Math.min(e,t))}}else{const t=nt*ot-ct;pt=Math.max(0,Math.min(t,pt+s))}}}function Dt(){It(dt,ut)}window.addEventListener("DOMContentLoaded",(function(t){const e=document.getElementById("timeline"),s=document.getElementById("timelineWrapper");J=document.getElementById("tooltip"),null==e||e.addEventListener("mouseout",Ct),null==e||e.addEventListener("wheel",Ut,{passive:!0}),null==e||e.addEventListener("mousedown",Rt),null==e||e.addEventListener("mouseup",wt),null==e||e.addEventListener("mousemove",Mt,{passive:!0}),null==e||e.addEventListener("click",bt),null==s||s.addEventListener("scroll",Dt),document.addEventListener("mousemove",Lt)})),window.addEventListener("resize",vt);const Ft={count:["count","duration","name"],duration:["duration","count","name"],selfTime:["selfTime","count","name"],name:["name","count","duration"]};let kt;class Pt{constructor(t,e,s,n){this.name=t,this.count=e,this.duration=s,this.selfTime=n}}function Wt(t,e,s){const n=e.children;if(s){let n=t[s];n?(++n.count,e.duration&&(n.duration+=e.duration,n.selfTime+=e.selfTime||0)):t[s]=new Pt(s,1,e.duration||0,e.selfTime||0)}n&&n.forEach((function(e){Wt(t,e,e.group||e.text)}))}function Vt(t){return e(this,void 0,void 0,(function*(){const e={};return Wt(e,t),kt=Object.values(e),kt}))}function Bt(t,e,s,n){let i,o,r;switch(t){case"count":o=s.count,r=n.count;break;case"duration":o=s.duration,r=n.duration;break;case"selfTime":o=s.selfTime,r=n.selfTime;break;default:o=s.name,r=n.name}return i=o===r?0:void 0===o?1:void 0===r||o<r?-1:1,e?i:-i}function Ht(t,e,s,i,o=!1){const r=document.createElement("div"),l=n(t,o),c=document.createElement("span"),a=n(e,o),d=document.createElement("span"),u=n(s,o),h=document.createElement("span"),p=n(i,o),E=document.createElement("span");return c.className="name",c.innerHTML=l,c.title=l,d.className="count",d.innerHTML=a,h.className="duration",h.innerHTML=u,E.className="selfTime",E.innerHTML=p,r.className=o?"row":"row data",r.appendChild(c),r.appendChild(d),r.appendChild(h),r.appendChild(E),r}function Gt(){return e(this,void 0,void 0,(function*(){const t=document.getElementById("sortField"),e=null==t?void 0:t.value,s=document.getElementById("sortAscending"),n=null==s?void 0:s.checked,o=document.getElementById("analysisHeader"),r=document.getElementById("analysis"),l=document.getElementById("analysisFooter");if(kt.sort((function(t,s){return function(t,e,s,n){const i=Ft[t],o=i.length;for(let t=0;t<o;++t){const o=Bt(i[t],e,s,n);if(0!==o)return o}return 0}(e,n,t,s)})),o&&l&&r){o.innerHTML="",o.appendChild(Ht("Method Name","Count","Total Time","Self Time",!0)),r.innerHTML="";let t=0,e=0;kt.forEach((function(s){var n=s.duration?i(s.duration):"-",o=s.selfTime?i(s.selfTime):"-";r.appendChild(Ht(s.name,""+s.count,n,o)),t+=s.count,e+=s.selfTime})),ot&&(l.innerHTML="",l.appendChild(Ht("Total",""+t,i(ot),i(e),!0)))}}))}function Kt(t){Gt()}window.addEventListener("DOMContentLoaded",(function(t){const e=document.getElementById("sortField"),s=document.getElementById("sortAscending");null==e||e.addEventListener("change",Kt),null==s||s.addEventListener("change",Kt)}));
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const qt=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Xt=Symbol(),Yt=new Map;class zt{constructor(t,e){if(this._$cssResult$=!0,e!==Xt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=Yt.get(this.cssText);return qt&&void 0===t&&(Yt.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}const Qt=(t,...e)=>{const s=1===t.length?t[0]:e.reduce(((e,s,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1]),t[0]);return new zt(s,Xt)},jt=qt?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const s of t.cssRules)e+=s.cssText;return(t=>new zt("string"==typeof t?t:t+"",Xt))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var Zt;const Jt=window.trustedTypes,te=Jt?Jt.emptyScript:"",ee=window.reactiveElementPolyfillSupport,se={toAttribute(t,e){switch(e){case Boolean:t=t?te:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let s=t;switch(e){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},ne=(t,e)=>e!==t&&(e==e||t==t),ie={attribute:!0,type:String,converter:se,reflect:!1,hasChanged:ne};class oe extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,s)=>{const n=this._$Eh(s,e);void 0!==n&&(this._$Eu.set(n,s),t.push(n))})),t}static createProperty(t,e=ie){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const s="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,s,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,s){return{get(){return this[e]},set(n){const i=this[t];this[e]=n,this.requestUpdate(t,i,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||ie}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of e)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const s=new Set(t.flat(1/0).reverse());for(const t of s)e.unshift(jt(t))}else void 0!==t&&e.push(jt(t));return e}static _$Eh(t,e){const s=e.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,s;(null!==(e=this._$Eg)&&void 0!==e?e:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var e;null===(e=this._$Eg)||void 0===e||e.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{qt?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const s=document.createElement("style"),n=window.litNonce;void 0!==n&&s.setAttribute("nonce",n),s.textContent=e.cssText,t.appendChild(s)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,s){this._$AK(t,s)}_$ES(t,e,s=ie){var n,i;const o=this.constructor._$Eh(t,s);if(void 0!==o&&!0===s.reflect){const r=(null!==(i=null===(n=s.converter)||void 0===n?void 0:n.toAttribute)&&void 0!==i?i:se.toAttribute)(e,s.type);this._$Ei=t,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$Ei=null}}_$AK(t,e){var s,n,i;const o=this.constructor,r=o._$Eu.get(t);if(void 0!==r&&this._$Ei!==r){const t=o.getPropertyOptions(r),l=t.converter,c=null!==(i=null!==(n=null===(s=l)||void 0===s?void 0:s.fromAttribute)&&void 0!==n?n:"function"==typeof l?l:null)&&void 0!==i?i:se.fromAttribute;this._$Ei=r,this[r]=c(e,t.type),this._$Ei=null}}requestUpdate(t,e,s){let n=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||ne)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===s.reflect&&this._$Ei!==t&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(t,s))):n=!1),!this.isUpdatePending&&n&&(this._$Ep=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,e)=>this[e]=t)),this._$Et=void 0);let e=!1;const s=this._$AL;try{e=this.shouldUpdate(s),e?(this.willUpdate(s),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(s)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(s)}willUpdate(t){}_$AE(t){var e;null===(e=this._$Eg)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$E_&&(this._$E_.forEach(((t,e)=>this._$ES(e,this[e],t))),this._$E_=void 0),this._$EU()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var re;oe.finalized=!0,oe.elementProperties=new Map,oe.elementStyles=[],oe.shadowRootOptions={mode:"open"},null==ee||ee({ReactiveElement:oe}),(null!==(Zt=globalThis.reactiveElementVersions)&&void 0!==Zt?Zt:globalThis.reactiveElementVersions=[]).push("1.0.2");const le=globalThis.trustedTypes,ce=le?le.createPolicy("lit-html",{createHTML:t=>t}):void 0,ae=`lit$${(Math.random()+"").slice(9)}$`,de="?"+ae,ue=`<${de}>`,he=document,pe=(t="")=>he.createComment(t),Ee=t=>null===t||"object"!=typeof t&&"function"!=typeof t,me=Array.isArray,xe=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_e=/-->/g,fe=/>/g,ye=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,Te=/'/g,ge=/"/g,ve=/^(?:script|style|textarea)$/i,Ae=(t=>(e,...s)=>({_$litType$:t,strings:e,values:s}))(1),Ne=Symbol.for("lit-noChange"),$e=Symbol.for("lit-nothing"),Se=new WeakMap,Ie=(t,e,s)=>{var n,i;const o=null!==(n=null==s?void 0:s.renderBefore)&&void 0!==n?n:e;let r=o._$litPart$;if(void 0===r){const t=null!==(i=null==s?void 0:s.renderBefore)&&void 0!==i?i:null;o._$litPart$=r=new we(e.insertBefore(pe(),t),t,void 0,null!=s?s:{})}return r._$AI(t),r},Le=he.createTreeWalker(he,129,null,!1),be=(t,e)=>{const s=t.length-1,n=[];let i,o=2===e?"<svg>":"",r=xe;for(let e=0;e<s;e++){const s=t[e];let l,c,a=-1,d=0;for(;d<s.length&&(r.lastIndex=d,c=r.exec(s),null!==c);)d=r.lastIndex,r===xe?"!--"===c[1]?r=_e:void 0!==c[1]?r=fe:void 0!==c[2]?(ve.test(c[2])&&(i=RegExp("</"+c[2],"g")),r=ye):void 0!==c[3]&&(r=ye):r===ye?">"===c[0]?(r=null!=i?i:xe,a=-1):void 0===c[1]?a=-2:(a=r.lastIndex-c[2].length,l=c[1],r=void 0===c[3]?ye:'"'===c[3]?ge:Te):r===ge||r===Te?r=ye:r===_e||r===fe?r=xe:(r=ye,i=void 0);const u=r===ye&&t[e+1].startsWith("/>")?" ":"";o+=r===xe?s+ue:a>=0?(n.push(l),s.slice(0,a)+"$lit$"+s.slice(a)+ae+u):s+ae+(-2===a?(n.push(void 0),e):u)}const l=o+(t[s]||"<?>")+(2===e?"</svg>":"");return[void 0!==ce?ce.createHTML(l):l,n]};class Ce{constructor({strings:t,_$litType$:e},s){let n;this.parts=[];let i=0,o=0;const r=t.length-1,l=this.parts,[c,a]=be(t,e);if(this.el=Ce.createElement(c,s),Le.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=Le.nextNode())&&l.length<r;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(ae)){const s=a[o++];if(t.push(e),void 0!==s){const t=n.getAttribute(s.toLowerCase()+"$lit$").split(ae),e=/([.?@])?(.*)/.exec(s);l.push({type:1,index:i,name:e[2],strings:t,ctor:"."===e[1]?Ue:"?"===e[1]?Fe:"@"===e[1]?ke:Me})}else l.push({type:6,index:i})}for(const e of t)n.removeAttribute(e)}if(ve.test(n.tagName)){const t=n.textContent.split(ae),e=t.length-1;if(e>0){n.textContent=le?le.emptyScript:"";for(let s=0;s<e;s++)n.append(t[s],pe()),Le.nextNode(),l.push({type:2,index:++i});n.append(t[e],pe())}}}else if(8===n.nodeType)if(n.data===de)l.push({type:2,index:i});else{let t=-1;for(;-1!==(t=n.data.indexOf(ae,t+1));)l.push({type:7,index:i}),t+=ae.length-1}i++}}static createElement(t,e){const s=he.createElement("template");return s.innerHTML=t,s}}function Oe(t,e,s=t,n){var i,o,r,l;if(e===Ne)return e;let c=void 0!==n?null===(i=s._$Cl)||void 0===i?void 0:i[n]:s._$Cu;const a=Ee(e)?void 0:e._$litDirective$;return(null==c?void 0:c.constructor)!==a&&(null===(o=null==c?void 0:c._$AO)||void 0===o||o.call(c,!1),void 0===a?c=void 0:(c=new a(t),c._$AT(t,s,n)),void 0!==n?(null!==(r=(l=s)._$Cl)&&void 0!==r?r:l._$Cl=[])[n]=c:s._$Cu=c),void 0!==c&&(e=Oe(t,c._$AS(t,e.values),c,n)),e}class Re{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:s},parts:n}=this._$AD,i=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:he).importNode(s,!0);Le.currentNode=i;let o=Le.nextNode(),r=0,l=0,c=n[0];for(;void 0!==c;){if(r===c.index){let e;2===c.type?e=new we(o,o.nextSibling,this,t):1===c.type?e=new c.ctor(o,c.name,c.strings,this,t):6===c.type&&(e=new Pe(o,this,t)),this.v.push(e),c=n[++l]}r!==(null==c?void 0:c.index)&&(o=Le.nextNode(),r++)}return i}m(t){let e=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class we{constructor(t,e,s,n){var i;this.type=2,this._$AH=$e,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=n,this._$Cg=null===(i=null==n?void 0:n.isConnected)||void 0===i||i}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Oe(this,t,e),Ee(t)?t===$e||null==t||""===t?(this._$AH!==$e&&this._$AR(),this._$AH=$e):t!==this._$AH&&t!==Ne&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.S(t):(t=>{var e;return me(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this.M(t):this.$(t)}A(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.A(t))}$(t){this._$AH!==$e&&Ee(this._$AH)?this._$AA.nextSibling.data=t:this.S(he.createTextNode(t)),this._$AH=t}T(t){var e;const{values:s,_$litType$:n}=t,i="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=Ce.createElement(n.h,this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.m(s);else{const t=new Re(i,this),e=t.p(this.options);t.m(s),this.S(e),this._$AH=t}}_$AC(t){let e=Se.get(t.strings);return void 0===e&&Se.set(t.strings,e=new Ce(t)),e}M(t){me(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,n=0;for(const i of t)n===e.length?e.push(s=new we(this.A(pe()),this.A(pe()),this,this.options)):s=e[n],s._$AI(i),n++;n<e.length&&(this._$AR(s&&s._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class Me{constructor(t,e,s,n,i){this.type=1,this._$AH=$e,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=i,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=$e}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,s,n){const i=this.strings;let o=!1;if(void 0===i)t=Oe(this,t,e,0),o=!Ee(t)||t!==this._$AH&&t!==Ne,o&&(this._$AH=t);else{const n=t;let r,l;for(t=i[0],r=0;r<i.length-1;r++)l=Oe(this,n[s+r],e,r),l===Ne&&(l=this._$AH[r]),o||(o=!Ee(l)||l!==this._$AH[r]),l===$e?t=$e:t!==$e&&(t+=(null!=l?l:"")+i[r+1]),this._$AH[r]=l}o&&!n&&this.k(t)}k(t){t===$e?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Ue extends Me{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===$e?void 0:t}}const De=le?le.emptyScript:"";class Fe extends Me{constructor(){super(...arguments),this.type=4}k(t){t&&t!==$e?this.element.setAttribute(this.name,De):this.element.removeAttribute(this.name)}}class ke extends Me{constructor(t,e,s,n,i){super(t,e,s,n,i),this.type=5}_$AI(t,e=this){var s;if((t=null!==(s=Oe(this,t,e,0))&&void 0!==s?s:$e)===Ne)return;const n=this._$AH,i=t===$e&&n!==$e||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,o=t!==$e&&(n===$e||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class Pe{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){Oe(this,t)}}const We=window.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Ve,Be;null==We||We(Ce,we),(null!==(re=globalThis.litHtmlVersions)&&void 0!==re?re:globalThis.litHtmlVersions=[]).push("2.0.2");class He extends oe{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const s=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=s.firstChild),s}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=Ie(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return Ne}}He.finalized=!0,He._$litElement$=!0,null===(Ve=globalThis.litElementHydrateSupport)||void 0===Ve||Ve.call(globalThis,{LitElement:He});const Ge=globalThis.litElementPolyfillSupport;null==Ge||Ge({LitElement:He}),(null!==(Be=globalThis.litElementVersions)&&void 0!==Be?Be:globalThis.litElementVersions=[]).push("3.0.2");class Ke{constructor(t,e,s){this.count=t,this.rowCount=e,this.stacks=s}expand(t,e,s){return new Ke(this.count+t,this.rowCount+e,this.stacks.concat([s]))}}class qe{constructor(){this.dmlMap=new Map,this.soqlMap=new Map,this.stacks=[]}static create(t){return e(this,void 0,void 0,(function*(){const e=new qe;return qe.findDatabseLines(e,t,[]),this._instance=e,this._instance}))}static instance(){return qe._instance}static findDatabseLines(t,e,s){const n=e.children;if(n)for(let e=0;e<n.length;++e){const i=n[e];switch(i.type){case"DML_BEGIN":t.upsert(t.dmlMap,i,s);break;case"SOQL_EXECUTE_BEGIN":t.upsert(t.soqlMap,i,s)}"method"===i.displayType&&(s.push(i),qe.findDatabseLines(t,i,s),s.pop())}}upsert(t,e,s){let n=this.internStack(s),i=t.get(e.text);i?t.set(e.text,i.expand(1,e.rowCount||0,n)):t.set(e.text,new Ke(1,e.rowCount||0,[n]))}internStack(t){return this.stacks.push([...t].reverse()),this.stacks.length-1}}function Xe(){return e(this,void 0,void 0,(function*(){const t=document.getElementById("dbContent");if(t){const e=[Ae`<database-section type="dml" />`,Ae`<database-section type="soql" />`];Ie(Ae`<div>${e}</div>`,t)}}))}function Ye(t,e){let s=e.split(".");return t.has(s[0])?s[0]:null}function ze(t){return e(this,void 0,void 0,(function*(){const e=function(t){const e=t.children;let s=new Set,n=0;for(;n<window.activeNamespaces.length;)s.add(window.activeNamespaces[n]),++n;if(e)for(n=0;n<e.length;){const t=e[n];"ENTERING_MANAGED_PKG"===t.type&&s.add(t.text),++n}return s}(t),s=t.children;if(s){let t=0;for(;t<s.length;){const n=s[t],i=n.type;"CODE_UNIT_STARTED"!==i||"method"!==n.type||n.namespace?("EXCEPTION_THROWN"===i||"CONSTRUCTOR_ENTRY"===i||"METHOD_ENTRY"===i)&&(n.namespace=Ye(e,n.text)):n.namespace=Ye(e,n.text),++t}}return e}))}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */qe._instance=null;const Qe=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:s,elements:n}=e;return{kind:s,elements:n,finisher(e){window.customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,je=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(s){s.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(s){s.createProperty(e.key,t)}};function Ze(t){return(e,s)=>void 0!==s?((t,e,s)=>{e.constructor.createProperty(s,t)})(t,e,s):je(t,e)}let Je=class extends He{constructor(){super(...arguments),this.type=""}static get styles(){return Qt`
      .dbSection {
        padding: 10px;
      }
      .dbTitle {
        font-weight: bold;
        font-size: 10pt;
      }
      .dbBlock {
        margin-left: 10px;
        font-weight: normal;
      }
    `}render(){const t=qe.instance();let e=null,s="";if("soql"===this.type&&t&&(e=t.soqlMap,s="SOQL Statements"),"dml"===this.type&&t&&(e=t.dmlMap,s="DML Statements"),e){const t=this.getKeyList(e);let n=0,i=0;e.forEach((t=>{n+=t.count,i+=t.rowCount}));const o=t.map((t=>Ae`<database-row key=${t} />`));return Ae`
        <div class="dbSection">
          <div class="dbTitle">
            ${s} (Count: ${n}, Rows: ${i})
            <div class="dbBlock">
                ${o}
            </div>
          </div>
        </div>
      `}return Ae`<p>No map found for type ${this.type}</p>`}getKeyList(t){const e=Array.from(t.keys());return e.sort(((e,s)=>{let n=t.get(e),i=t.get(s);if(n&&i){const t=i.count-n.count;if(0!==t)return t;const e=i.rowCount-n.rowCount;if(0!==e)return e}return e.localeCompare(s)})),e}};t([Ze({type:String})],Je.prototype,"type",void 0),Je=t([Qe("database-section")],Je);let ts=class extends He{constructor(){super(...arguments),this.key=""}static get styles(){return Qt`
      .dbEntry {
        display: flex;
      }
      .dbCount {
        display: inline-block;
        width: 75px;
        min-width: 75px;
      }
      .dbRows {
        display: inline-block;
        width: 90px;
        min-width: 90px;
      }
      .stackEntry {
        display: flex;
        margin-left: 180px;
      }
    `}render(){var t,e;const s=null===(t=qe.instance())||void 0===t?void 0:t.soqlMap,n=null===(e=qe.instance())||void 0===e?void 0:e.dmlMap;if(s&&n){let t=s.get(this.key)||n.get(this.key);if(t){const e=this.key.substring(this.key.indexOf(" ")+1),s=t.stacks.map((t=>Ae`<call-stack stack=${t} />`));return Ae`
          <div class="dbEntry">
            <span class="dbCount">Count: ${t.count}</span>
            <span class="dbRows">Rows: ${t.rowCount}</span>
            <span>${e}${s}</span>
          </div>
        `}return Ae`<p>No entry found for key ${this.key}</p>`}}};t([Ze({type:String})],ts.prototype,"key",void 0),ts=t([Qe("database-row")],ts);let es=class extends He{constructor(){super(...arguments),this.stack=-1}static get styles(){return Qt`
      a {
        color: var(--vscode-textLink-foreground);
        text-decoration: underline;
      }

      .stackEntryFirst {
        cursor: pointer;
      }

      .stackEntry {
        cursor: pointer;
        display: block;
        padding-left: 1em;
      }
    `}render(){var t;const e=null===(t=qe.instance())||void 0===t?void 0:t.stacks;if(e&&this.stack>=0&&this.stack<e.length){const t=e[this.stack];if(t){let e=t.slice(1,10).map((t=>this.lineLink(t,!1)));return Ae`<details>
          <summary>${this.lineLink(t[0],!0)}</summary>
          ${e}
        </details>`}return Ae`<div class="stackEntry">No call stack available</div>`}}lineLink(t,e){const s=e?"stackEntryFirst":"stackEntry";return Ae`
      <a
        @click=${this.onCallerClick}
        class=${s}
        data-timestamp="${t.timestamp}"
        >${t.text}</a
      >
    `}onCallerClick(t){const e=t.target.getAttribute("data-timestamp");e&&M(parseInt(e))}};function ss(t,e){void 0===e&&(e={});var s=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===s&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}t([Ze({type:Number})],es.prototype,"stack",void 0),es=t([Qe("call-stack")],es);ss(".statusBar{display:flex;margin-top:10px;position:relative;white-space:nowrap;width:100%}#status{align-items:center;font-size:10pt;margin-bottom:5px;margin-top:5px}.helpIcon{height:24px;width:24px}.reason{-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;margin-left:5px;min-width:13ch;overflow:hidden;padding:2px 4px;text-overflow:ellipsis}.reason,.tooltip{white-space:normal;word-break:break-word}.tooltip{background-color:var(--vscode-editor-background);color:var(--vscode-editor-foreground);padding:5px;position:absolute;top:100%;visibility:hidden;z-index:1}.reason:hover+.tooltip{visibility:visible}");ss("#logSettings{min-height:27px;padding:10px 0}.setting{background-color:var(--vscode-textBlockQuote-background);display:inline-block;font-family:var(--vscode-editor-font-family);font-size:8pt;margin-bottom:5px;margin-right:5px;padding:5px}.settingTitle{font-weight:700;margin-right:2px}.settingValue{color:grey}");ss(".tabHolder{background-color:var(--vscode-editorGroupHeader-tabsBackground);display:flex}.tab{background-color:var(--vscode-tab-background);border:1px solid var(--vscode-tab-border);color:var(--vscode-tab-inactiveForeground);cursor:pointer;display:inline-block;padding:5px 10px}.tab.selected{background-color:var(--vscode-tab-activeBackground);border-bottom-width:0;border:1px solid var(--vscode-tab-activeBorder);color:var(--vscode-tab-activeForeground);cursor:default}.tabPad{flex-grow:1}.tabber{border-top-width:0;flex:1;margin-bottom:20px;padding-top:10px}.tabItem{display:none;height:100%}.tabItem.selected{display:flex;flex-direction:column}.helpLink{background-color:var(--vscode-tab-background);border:1px solid var(--vscode-tab-border);color:var(--vscode-tab-inactiveForeground);cursor:pointer;display:inline-block;padding:5px 10px}");ss(".buttonContainer{align-items:center;display:flex;flex-direction:row;margin-bottom:10px;padding:5px}.buttonContainer button,.filterCheckbox{margin:5px}#treeScroll{flex:1;overflow:scroll}#tree,#treeScroll{white-space:nowrap}#tree{height:0}#tree .count{color:red;margin-right:5px}.node{margin-top:2px;white-space:pre}.childContainer{margin-left:24px}.block{margin-top:2px;padding-left:1em;text-indent:-1em;white-space:pre}.toggle{border:1px solid silver;cursor:pointer;display:inline-block;line-height:10px;margin-right:4px;padding:2px;text-align:center;width:10px}.hide{display:none}");ss("#timelineView{height:75%;position:relative}#tooltip{color:var(--vscode-editor-foreground);display:none;max-width:90%;padding:5px;position:absolute;z-index:1000}#timeline,#tooltip{background-color:var(--vscode-editor-background)}#timeline{height:auto;width:100%;z-index:0}#timelineKey{margin-top:5px}#timelineWrapper{flex:1;overflow:hidden}#timelineKey .keyEntry{display:inline-block;font-size:8pt;margin-right:5px;padding:4px}#timelineView>.buttonContainer{align-items:center;display:flex;flex-direction:row;margin-bottom:10px;padding:5px}");ss(".analysisSettings{margin-bottom:10px;padding:10px}.analysisScroller{flex:1;overflow:scroll}#analysis{height:0}.analysis .row{display:flex}.analysis .row span{margin:2px}.analysis .row.data span{background-color:var(--vscode-editorGroupHeader-tabsBackground)}.analysis .row .name{flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.analysis .row .count{min-width:50px;text-align:right}.analysis .row .duration,.analysis .row .selfTime{min-width:110px;text-align:right}#analysisView>.buttonContainer{align-items:center;margin:5px;padding:5px}");let ns,is,os;function rs(t,s,n,i){return e(this,void 0,void 0,(function*(){const o=document.getElementById("status"),r=document.createElement("span"),l=document.createElement("a"),c=document.createElement("span"),a=ns?(ns/1e6).toFixed(2)+" MB":"",d=ot?(ot/1e9).toFixed(3)+" Sec":"",h=a||d?" ("+a+(a&&d?", ":"")+d+")":"";l.setAttribute("href","#"),l.appendChild(document.createTextNode(t)),l.addEventListener("click",(()=>L().openPath(s))),r.appendChild(l),r.appendChild(document.createTextNode(h+" - ")),c.innerText=n,c.style.color=i,o&&(o.innerHTML="",o.appendChild(r),o.appendChild(c)),Array.isArray(u)&&u.forEach((t=>{const e=t[0],s=document.createElement("span");s.innerText=e,s.className="reason",t[2]&&(s.style.backgroundColor=t[2]);const n=document.createElement("span");n.className="tooltip",n.innerText=e,o&&(o.appendChild(s),o.appendChild(n))})),yield function(){return e(this,void 0,void 0,(function*(){yield new Promise((t=>window.requestAnimationFrame(t))),yield new Promise((t=>window.requestAnimationFrame(t))),yield new Promise((t=>setTimeout(t,1)))}))}()}))}function ls(t){return e(this,void 0,void 0,(function*(){const e=t.children;if(e){const s=e.length;for(let n=0;n<s;++n){const s=e[n];t.containsDml||(t.containsDml="DML_BEGIN"===s.type),t.containsSoql||(t.containsSoql="SOQL_EXECUTE_BEGIN"===s.type),"method"===s.displayType&&(yield ls(s),t.containsDml||(t.containsDml=s.containsDml),t.containsSoql||(t.containsSoql=s.containsSoql))}}}))}function cs(t){return e(this,void 0,void 0,(function*(){const e=t.children,s="DML_BEGIN"===t.type;let n,i=0;if(e)for(;i<e.length;){const t=e[i],o=t.type;if(n){if("ENTERING_MANAGED_PKG"===o&&t.namespace===n.namespace){e.splice(i,1),n.exitStamp=t.exitStamp,r(n);continue}if(n&&s&&("DML_BEGIN"===o||"SOQL_EXECUTE_BEGIN"===o)){e.splice(i,1),n.children&&n.children.push(t),n.containsDml=t.containsDml||"DML_BEGIN"===o,n.containsSoql=t.containsSoql||"SOQL_EXECUTE_BEGIN"===o,n.exitStamp=t.exitStamp,r(n),"method"===t.displayType&&(yield cs(t));continue}++i}else++i;"method"===t.displayType&&(yield cs(t)),n="ENTERING_MANAGED_PKG"===o?t:null}}))}function as(t){const e=Date.now();is&&console.debug(is+" = "+(e-os)+"ms"),is=t,os=e}function ds(t){return e(this,void 0,void 0,(function*(){const e=document.getElementById("logSettings");if(!e)return;e.innerHTML="";const s=document.createDocumentFragment();for(const[e,n]of t)if("NONE"!==n){const t=document.createElement("div"),i=document.createElement("span"),o=document.createElement("span");i.innerText=e+":",i.className="settingTitle",o.innerText=n,o.className="settingValue",t.className="setting",t.appendChild(i),t.appendChild(o),s.appendChild(t)}e.appendChild(s)}))}function us(t,s,n){return e(this,void 0,void 0,(function*(){ns=t.length,yield rs(s,n,"Processing...","black"),as("parseLog"),yield Promise.all([ds(g(t)),y(t)]),as("getRootMethod");const e=function(){const t=new $(h),e=new S([]);let s,n=[];for(;s=t.fetch();)s.exitTypes?(e.addBlock(n),n=[],e.addChild(I(t,s))):n.push(s);return e.addBlock(n),e.exitStamp=function(t){if(!t.children)return 0;let e;for(let s=t.children.length-1;s>=0;s--){const n=t.children[s],i=n.exitStamp;if(i&&(null!=e||(e=i),"EXECUTION_STARTED"===n.type)){e=i;break}}return e||0}(e),e}();as("analyse"),yield Promise.all([ze(e),ls(e)]),yield cs(e),yield Promise.all([Vt(e),qe.create(e)]),yield rs(s,n,"Rendering...","black"),as("renderViews"),yield Promise.all([B(e),At(e),Gt(),Xe()]),as(""),rs(s,n,"Ready",u.length>0?"red":"green")}))}function hs(t){o(t.target.id)}ss("#dbScroller{flex:1;overflow:scroll}#dbContent{height:0}"),window.addEventListener("DOMContentLoaded",(function(t){const e=document.querySelector(".tabHolder");null==e||e.querySelectorAll(".tab").forEach((t=>t.addEventListener("click",hs)));const s=document.querySelector(".helpLink");s&&s.addEventListener("click",(()=>L().openHelp())),L().getConfig(),function(){var t,e,s,n,i;const o=null===(t=document.getElementById("LOG_FILE_NAME"))||void 0===t?void 0:t.innerHTML,r=null===(e=document.getElementById("LOG_FILE_PATH"))||void 0===e?void 0:e.innerHTML,l=null===(s=document.getElementById("LOG_FILE_NS"))||void 0===s?void 0:s.innerHTML,c=null===(n=document.getElementById("LOG_FILE_URI"))||void 0===n?void 0:n.innerHTML;window.activeNamespaces=null!==(i=null==l?void 0:l.split(","))&&void 0!==i?i:[],c&&fetch(c).then((t=>t.text())).then((t=>{us(null!=t?t:"",null!=o?o:"",null!=r?r:"")}))}()})),window.addEventListener("message",(function(t){const e=t.data;if("getConfig"===e.command)!function(t){for(const e in Z){const s=Z[e],n=t[s.label];n&&(s.fillColor=n)}}(e.data.timeline.colors),$t()}));
//# sourceMappingURL=bundle.js.map
